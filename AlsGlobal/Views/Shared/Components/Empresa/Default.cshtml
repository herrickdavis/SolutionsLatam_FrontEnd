@model IEnumerable<EmpresaViewModel>
@inject IStringLocalizer<SharedResources> SharedLocalizer
@inject IAspNetUser User
@{ 
  var idSeleccionado = Convert.ToInt32(ViewBag.Seleccionada);  
}
@if (User.Rol < 4)
{
    <!-- Modal -->
    <div class="modal fade" id="miModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalLabel">Cambiar Empresa</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--<div class="form-group">
                        <label for="id_empresa">Pais</label>
                        @Html.DropDownList("id_pais", Model.Select(x => new SelectListItem(x.nombre_empresa, x.id.ToString(), x.id == idSeleccionado)).ToList(), SharedLocalizer["ValorDefectoSelect"], new { @class = "form-control" })
                    </div>-->
                    <div class="form-group mt-2">
                        <label for="id_empresa">Empresa</label>
                        @Html.DropDownList("id_empresa", Model.Select(x => new SelectListItem(x.nombre_empresa, x.id.ToString(), x.id == idSeleccionado)).ToList(), SharedLocalizer["ValorDefectoSelect"], new { @class = "form-control selectpicker", data_live_search = "true" })
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary btnCambiarEmpresa">@SharedLocalizer["Cambiar"]</button>
                </div>
            </div>
        </div>
    </div>
}
